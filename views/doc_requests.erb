<script src="/js/bootstrap-datepicker.js"></script>

<!-- Actual Container -->
<div class="container theme-showcase" role="main">
  <div class="page-header">
    <h2>Request Documents</h2>
  </div>
  <div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-6">
       <% if error_msg != '' %>
       <div class="panel panel-danger">
       <% else %>
       <div class="panel panel-primary">
       <% end %>
         <div class="panel-heading">
           <h3 class="panel-title">Fill out the form to request documents</h3>
         </div>
         <br />
         <form class="form-horizontal" action="/requests/documents" method="post" role="form">
           <!-- full name -->
           <div class="form-group">
             <label class="col-sm-offset-1 col-sm-2 control-label" for="FullName">FullName</label>
             <div class="col-sm-8">
               <input type="text" class="form-control" name="fullname" id="fullname" placeholder="Full Name as it should appear on document" required="required">
             </div>
           </div>
           <!-- email -->
           <div class="form-group">
             <label class="col-sm-offset-1 col-sm-2 control-label" for="Email">Email</label>
             <div class="col-sm-8">
               <input type="email" class="form-control" name="email" id="email" placeholder="Enter email to receive documents" required="required">
             </div>
           </div>
           <!-- company -->
           <div class="form-group">
             <label class="col-sm-offset-1 col-sm-2 control-label" for="Company">Company</label>
             <div class="col-sm-8">
               <select id="company" name="company" class="form-control">
                <option value="cloudwick">Cloudwick</option>
                <option value="jbmicro">JBMicro</option>
               </select>
             </div>
           </div>
           <!-- document type -->
           <div class="form-group">
             <label class="col-sm-offset-1 col-sm-2 control-label" for="DocumentType">Document</label>
             <div class="col-sm-8">
               <select id="documenttype" name="documenttype" class="form-control">
                <option value="none">Select document type to request</option>
                <option value="offerletter">Offer Letter</option>
                <option value="leaveletter">Leave Letter</option>
                <option value="employmentletter">Employment Verification Letter</option>
               </select>
             </div>
           </div>
           <!-- leave letter options -->
           <div id="LeaveLetterOptions" class="hide">
             <div class="form-group date">
               <label class="col-sm-offset-1 col-sm-2 control-label" for="StartDate">StartDate: </label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="llstartdate" id="LLStartDate" placeholder="leave start date in format (mm/dd/yyyy)">
               </div>
             </div>
             <div class="form-group date">
               <label class="col-sm-offset-1 col-sm-2 control-label" for="EndDate">EndDate: </label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="llenddate" id="LLEndDate" placeholder="leave end date in format (mm/dd/yyyy)">
               </div>
             </div>
             <div class="form-group date">
               <label class="col-sm-offset-1 col-sm-2 control-label" for="DatedAs">DatedAs: </label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="lldatedas" id="LLDatedAs" placeholder="Dated As in format (mm/dd/yyyy)">
               </div>
             </div>
           </div>
           <!-- offer letter options -->
           <div id="OfferLetterOptions" class="hide">
             <div class="form-group date">
               <label class="col-sm-offset-1 col-sm-2 control-label" for="StartDate">StartDate: </label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="olstartdate" id="OLStartDate" placeholder="offer letter start date in format (mm/dd/yyyy)">
               </div>
             </div>
             <div class="form-group date">
               <label class="col-sm-offset-1 col-sm-2 control-label" for="DatedAs">DatedAs: </label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="oldatedas" id="OLDatedAs" placeholder="Dated As in format (mm/dd/yyyy)">
               </div>
             </div>
           </div>
           <!-- employment letter options -->
           <div id="EmploymentLetterOptions" class="hide">
             <div class="form-group date">
               <label class="col-sm-offset-1 col-sm-2 control-label" for="StartDate">StartDate: </label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="elstartdate" id="ELStartDate" placeholder="employment letter start date in format (mm/dd/yyyy)">
               </div>
             </div>
             <div class="form-group date">
               <label class="col-sm-offset-1 col-sm-2 control-label" for="DatedAs">DatedAs: </label>
               <div class="col-sm-8">
                 <input type="text" class="form-control" name="eldatedas" id="ELDatedAs" placeholder="Dated As in format (mm/dd/yyyy)">
               </div>
             </div>
           </div>
           <!-- recaptcha -->
           <div class="col-sm-offset-3">
               <script type="text/javascript"
                 src="http://www.google.com/recaptcha/api/challenge?k=6Lfb3fgSAAAAAAxo_Mp3iRBqP7A0FnehlXj7ibWJ">
              </script>
              <noscript>
                 <iframe src="http://www.google.com/recaptcha/api/noscript?k=6Lfb3fgSAAAAAAxo_Mp3iRBqP7A0FnehlXj7ibWJ"
                     height="300" width="500" frameborder="0"></iframe><br>
                 <textarea name="recaptcha_challenge_field" rows="3" cols="40">
                 </textarea>
                 <input type="hidden" name="recaptcha_response_field"
                     value="manual_challenge">
              </noscript>
            </div>
            <br />
           <!-- submit -->
           <div class="form-group">
             <div class="col-sm-offset-5">
               <button type="submit" id="makeRequest" class="btn btn-primary">Submit Request</button>
             </div>
          </div>
         </form>

         <% if error_msg != '' %>
         <p class="text-danger text-center"><%= error_msg %></p>
         <% end %>
       </div>
    </div>
    <div class="col-md-2"></div>
  </div>
</div>

<script type="text/javascript">
// show/hide options based on document type selected
$(function() {
  $('#documenttype').change(function() {
    if($('#documenttype').val() == 'leaveletter') {
      $('#LeaveLetterOptions').removeClass('hide');
      $('#OfferLetterOptions').addClass('hide');
      $('#EmploymentLetterOptions').addClass('hide');
      $('#LLStartDate').datepicker({});
      $('#LLEndDate').datepicker({});
      $('#LLDatedAs').datepicker({});
    } else if($('#documenttype').val() == 'offerletter') {
      $('#LeaveLetterOptions').addClass('hide');
      $('#OfferLetterOptions').removeClass('hide');
      $('#EmploymentLetterOptions').addClass('hide');
      $('#OLStartDate').datepicker({});
      $('#OLDatedAs').datepicker({});
    } else if($('#documenttype').val() == 'employmentletter') {
      $('#LeaveLetterOptions').addClass('hide');
      $('#OfferLetterOptions').addClass('hide');
      $('#EmploymentLetterOptions').removeClass('hide');
      $('#ELStartDate').datepicker({});
      $('#ELDatedAs').datepicker({});
    } else {
      $('#LeaveLetterOptions').addClass('hide');
      $('#OfferLetterOptions').addClass('hide');
      $('#EmploymentLetterOptions').addClass('hide');
    }
  })
});
</script>
